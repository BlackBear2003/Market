(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-147a4374"],{"0a8c":function(t,e,o){},"13d5":function(t,e,o){"use strict";var n=o("23e7"),r=o("d58f").left,c=o("a640"),a=o("2d00"),i=o("605d"),l=c("reduce"),s=!i&&a>79&&a<83;n({target:"Array",proto:!0,forced:!l||s},{reduce:function(t){var e=arguments.length;return r(this,t,e,e>1?arguments[1]:void 0)}})},2324:function(t,e,o){"use strict";o("0a8c")},"605d":function(t,e,o){var n=o("c6b6"),r=o("da84");t.exports="process"==n(r.process)},a640:function(t,e,o){"use strict";var n=o("d039");t.exports=function(t,e){var o=[][t];return!!o&&n((function(){o.call(null,e||function(){return 1},1)}))}},b789:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"bodyContent"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.cart,"max-height":"600"}},[e("el-table-column",{attrs:{align:"center",label:"删除",width:"100"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("a",{on:{click:function(e){return t.deleteItem(o.row)}}},[e("i",{staticClass:"el-icon-delete"})])]}}])}),e("el-table-column",{attrs:{align:"center",prop:"img",label:"图片",width:"180"},scopedSlots:t._u([{key:"default",fn:function({row:t}){return[e("img",{staticStyle:{width:"50%"},attrs:{src:t.img}})]}}])}),e("el-table-column",{attrs:{align:"center",prop:"name",label:"名称"}}),e("el-table-column",{attrs:{align:"center",prop:"count",label:"数量"},scopedSlots:t._u([{key:"default",fn:function({row:o}){return[e("el-input-number",{staticStyle:{width:"80%"},attrs:{label:"",min:0},model:{value:o.count,callback:function(e){t.$set(o,"count",e)},expression:"row.count"}})]}}])}),e("el-table-column",{attrs:{align:"center",prop:"price",label:"单价"}})],1),e("el-row",{staticStyle:{height:"60px","line-height":"60px"}},[e("el-col",{attrs:{span:4,offset:16}},[e("h3",[t._v("总价："+t._s(t.totalPrice))])]),e("el-col",{attrs:{span:2,offset:2}},[e("el-button",{attrs:{type:"primary"},on:{click:t.pay}},[t._v("结算")])],1)],1)],1),e("div",{staticClass:"footer"})])},r=[],c=(o("13d5"),o("14d9"),o("b775")),a={components:{},computed:{totalPrice(){if(this.cart.length>0){const t=this.cart.map(t=>t.price*t.count).reduce((t,e)=>t+e);return console.log("res:",t),t}}},data(){return{cart:[],publicPath:"/",products:[],token:localStorage.getItem("token")}},mounted(){console.log("/"),this.cart=this.$store.state.cart},methods:{pay(){this.$store.commit("updateTotalPrice",this.totalPrice),this.$router.push("/pay")},goCart(){this.$router.push("/cart")},deleteItem(t){console.log("删除：",t),this.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.cart.splice(this.cart.findIndex(e=>e.id==t.id),1)})},addCart(t){const e=this.cart.map(t=>t.id).findIndex(e=>e===t.id);console.log("index"),e>-1?this.cart[e]["count"]++:this.cart.push(t),this.$message({message:"加购成功",type:"success"})},login(){console.log("=== login ==="),this.$router.push("/login")},logout(){console.log("=== logout ==="),this.$confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{c["a"].post("/api/user/account/logout").then(()=>{localStorage.clear(),this.$router.push("/login")}).catch(t=>{console.log("err:",t)})})},chat(){console.log("=== chat ==="),this.$router.push("/chat")}}},i=a,l=(o("2324"),o("2877")),s=Object(l["a"])(i,n,r,!1,null,null,null);e["default"]=s.exports},d58f:function(t,e,o){var n=o("59ed"),r=o("7b0b"),c=o("44ad"),a=o("07fa"),i=TypeError,l=function(t){return function(e,o,l,s){n(o);var u=r(e),d=c(u),p=a(u),h=t?p-1:0,f=t?-1:1;if(l<2)while(1){if(h in d){s=d[h],h+=f;break}if(h+=f,t?h<0:p<=h)throw i("Reduce of empty array with no initial value")}for(;t?h>=0:p>h;h+=f)h in d&&(s=o(s,d[h],h,u));return s}};t.exports={left:l(!1),right:l(!0)}}}]);
//# sourceMappingURL=chunk-147a4374.773b277e.js.map